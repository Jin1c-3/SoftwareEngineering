"use strict";(self["webpackChunkelectron_test"]=self["webpackChunkelectron_test"]||[]).push([[179],{3179:function(e,t,i){i.r(t),i.d(t,{default:function(){return m}});var a=function(){var e=this,t=e._self._c;return t("div",[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{overflow:"auto",height:"100vh"}},[t("el-row",{staticClass:"search-nav",attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{xs:20,sm:18,md:16,lg:12,xl:12}},[t("el-card",{staticClass:"search-nav-el-card",attrs:{shadow:"always","body-style":{padding:0}}},[t("el-row",{attrs:{type:"flex",justify:"space-around"}},[t("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[t("el-cascader",{staticStyle:{outline:"none",border:"none","box-shadow":"none"},attrs:{placeholder:"出发地",options:e.options,filterable:"",props:e.search.pro,clearable:!0,"show-all-levels":!1},model:{value:e.search.from,callback:function(t){e.$set(e.search,"from",t)},expression:"search.from"}})],1),t("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[t("el-cascader",{attrs:{placeholder:"目的地",options:e.options,filterable:"",props:e.search.pro,clearable:!0,"show-all-levels":!1},model:{value:e.search.to,callback:function(t){e.$set(e.search,"to",t)},expression:"search.to"}})],1),t("el-col",{attrs:{xs:8,sm:8,md:5,lg:5,xl:5}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",editable:"",clearable:!0},model:{value:e.search.date,callback:function(t){e.$set(e.search,"date",t)},expression:"search.date"}})],1),t("el-col",{attrs:{xs:4,sm:1,md:1,lg:1,xl:1}},[t("el-button",{attrs:{icon:"el-icon-search",circle:""},on:{click:e.searchFilter}})],1)],1)],1)],1)],1),e.isShow?t("el-row",{staticStyle:{margin:"20px 0"},attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{xs:20,sm:18,md:16,lg:14,xl:14}},[t("el-card",{staticClass:"filter-el-card",attrs:{shadow:"always","body-style":{padding:"5px"}}},[t("div",{staticStyle:{display:"flex","justify-content":"end","align-items":"center",height:"100%"}},[t("el-select",{staticStyle:{width:"120px",margin:"0 10px"},attrs:{placeholder:"价格",clearable:!0},model:{value:e.listQuery.price,callback:function(t){e.$set(e.listQuery,"price",t)},expression:"listQuery.price"}},e._l(e.priceOptions,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1),t("el-select",{staticStyle:{width:"120px",margin:"0 10px"},attrs:{placeholder:"耗时",clearable:!0},model:{value:e.listQuery.time,callback:function(t){e.$set(e.listQuery,"time",t)},expression:"listQuery.time"}},e._l(e.timeOptions,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1),t("el-select",{staticStyle:{width:"140px",margin:"0 10px"},attrs:{placeholder:"起飞时间",clearable:!0},model:{value:e.listQuery.depart,callback:function(t){e.$set(e.listQuery,"depart",t)},expression:"listQuery.depart"}},e._l(e.departOptions,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1),t("el-select",{staticStyle:{width:"140px",margin:"0 10px"},attrs:{placeholder:"到达时间",clearable:!0},model:{value:e.listQuery.arrive,callback:function(t){e.$set(e.listQuery,"arrive",t)},expression:"listQuery.arrive"}},e._l(e.arriveOptions,(function(e,i){return t("el-option",{key:i,attrs:{label:e,value:e}})})),1),t("el-button",{staticClass:"el-icon-search",attrs:{slot:"reference",circle:!0},on:{click:e.handlerFilter},slot:"reference"})],1)])],1)],1):e._e(),e.isShow?t("el-row",{staticClass:"nav",attrs:{type:"flex",justify:"center"}},[t("el-col",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadLimit,expression:"loadLimit"}],attrs:{xs:20,sm:18,md:16,lg:14,xl:14}},e._l(e.planesPart,(function(a,s){return t("el-card",{key:s,staticClass:"info-el-card",attrs:{shadow:"always","body-style":{padding:0}}},[t("el-row",{staticStyle:{height:"120px"},attrs:{type:"flex",justify:"space-between",align:"middle"}},[t("el-col",{attrs:{xs:5,sm:4,md:4,lg:4,xl:4}},[t("div",{staticClass:"row"},[t("el-image",{staticStyle:{"margin-right":"10px","max-height":"50px","max-width":"50px"},attrs:{src:i(4735)("./"+a.str+".png")}}),t("div",{staticClass:"col"},[t("h3",[e._v(e._s(e.planeDir[a.str]))]),t("div",[e._v("EU2000")])])],1)]),t("el-col",{attrs:{xs:10,sm:8,md:10,lg:10,xl:10}},[t("el-popover",{attrs:{placement:"top",title:"航班信息",width:"300",trigger:"hover"}},[t("el-divider"),t("div",[t("el-timeline",[t("el-timeline-item",{attrs:{timestamp:"4/12 08:00 北京首都机场",placement:"top",color:"#54c8f4"}},[t("el-card",[e._v("飞行时间 1 小时")])],1),t("el-timeline-item",{attrs:{timestamp:"4/13 10:00 上海虹桥",placement:"top",color:"#54c8f4"}})],1)],1),t("div",{staticClass:"row",attrs:{slot:"reference"},slot:"reference"},[t("div",{staticClass:"col"},[t("h3",[e._v("北京首都")]),t("div",[e._v("08:00")])]),t("el-image",{staticStyle:{margin:"0 10px",width:"40px",height:"30px"},attrs:{src:i(7139)}}),t("div",{staticClass:"col"},[t("h3",[e._v("上海虹桥")]),t("div",[e._v("10:00")])])],1)],1)],1),t("el-col",{attrs:{xs:5,sm:3,md:3,lg:3,xl:3}},[t("h3",{staticClass:"price",staticStyle:{color:"#409eff","font-size":"25px"}},[e._v(" ￥1234 ")])]),t("el-col",{attrs:{xs:4,sm:3,md:3,lg:3,xl:3}},[t("el-button",{staticClass:"el-icon-shopping-cart-2",attrs:{type:"primary",size:"medium"},on:{click:function(t){return e.order(a)}}},[e._v("订购")])],1)],1)],1)})),1)],1):e._e(),t("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center",position:"fixed",left:"50%",bottom:"20px"}},[t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isInfiniteLoading,expression:"isInfiniteLoading"}],staticStyle:{height:"40px",width:"40px"}})]),e.cardLoading?t("div",{staticClass:"loading"}):e._e()],1),t("el-dialog",{attrs:{title:"订单",visible:e.dialog,"append-to-body":"",fullscreen:"",width:"700px",customClass:"customWidth"},on:{"update:visible":function(t){e.dialog=t},open:e.initOrder}},[t("div",{staticClass:"col"},[t("el-steps",{staticStyle:{width:"900px",background:"#fff"},attrs:{active:e.active,"align-center":""}},[t("el-step",{attrs:{title:"乘机信息"}}),t("el-step",{attrs:{title:"增值服务"}}),t("el-step",{attrs:{title:"支付"}})],1),t("el-divider"),0==e.active?t("div",{staticStyle:{width:"100%",height:"700px"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col"},[t("el-card",{staticStyle:{width:"800px",height:"550px","overflow-y":"auto"},attrs:{header:"乘机人"}},[t("div",{staticClass:"col"},[e._l(e.orderInfo.passengers,(function(i,a){return t("el-card",{key:a,staticStyle:{width:"100%",height:"150px","margin-bottom":"20px",position:"relative"},attrs:{"body-style":"padding: 0",shadow:"hover"}},[t("div",{staticClass:"row",staticStyle:{"justify-content":"start","align-items":"start"}},[t("h1",{staticStyle:{margin:"10px 30px"}},[e._v(e._s(a))]),t("div",{staticStyle:{width:"2px",height:"140px",background:"#eee",margin:"5px 10px"}}),t("el-form",{ref:"passengerForm",refInFor:!0,staticStyle:{"margin-top":"10px"},attrs:{model:i,"label-width":"100px",rules:e.rules}},[t("el-form-item",{attrs:{label:"姓名",size:"mini",prop:"name"}},[t("el-input",{attrs:{size:"mini",placeholder:"乘机人姓名"},model:{value:i.name,callback:function(t){e.$set(i,"name",t)},expression:"passenger.name"}})],1),t("el-form-item",{attrs:{label:"身份证",size:"mini",prop:"id"}},[t("el-input",{attrs:{size:"mini",placeholder:"乘机人身份证号"},model:{value:i.id,callback:function(t){e.$set(i,"id",t)},expression:"passenger.id"}})],1),t("el-form-item",{attrs:{label:"联系电话",size:"mini",prop:"phone"}},[t("el-input",{attrs:{size:"mini",placeholder:"乘机人电话号码"},model:{value:i.phone,callback:function(t){e.$set(i,"phone",t)},expression:"passenger.phone"}})],1)],1),t("el-button",{staticClass:"el-icon-close",staticStyle:{"font-size":"30px",color:"#409eff",position:"absolute",right:"10px",top:"0"},attrs:{type:"text"},on:{click:function(t){return e.deletePassenger(a)}}})],1)])})),t("el-button",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"font-size":"20px",color:"#409eff"},attrs:{type:"text"},on:{click:e.addPassenger}},[e._v("增加乘机人")])],2)]),t("el-card",{staticStyle:{width:"800px",height:"120px","margin-top":"20px"},attrs:{header:"联系人"}},[t("div",{staticClass:"col"},[t("el-form",{ref:"contactForm",attrs:{model:e.orderInfo.contact,"label-width":"100px",rules:e.contactRules}},[t("el-form-item",{attrs:{label:"联系电话",size:"mini",prop:"phone"}},[t("el-input",{staticStyle:{width:"300px","margin-right":"20px"},attrs:{size:"mini",placeholder:"联系人电话号码"},model:{value:e.orderInfo.contact.phone,callback:function(t){e.$set(e.orderInfo.contact,"phone",t)},expression:"orderInfo.contact.phone"}}),t("div",{staticClass:"el-icon-warning",staticStyle:{color:"#7c7c7c"}},[e._v(" 订单信息将发送到此手机号 ")])],1)],1)],1)])],1),t("el-card",{staticStyle:{width:"400px",height:"700px","margin-left":"20px"},attrs:{header:"信息"}},[t("div",{staticClass:"col"},[t("h2",[e._v("周日 05-23 北京-上海")]),t("h2",[e._v("东方航空")]),t("el-divider"),e._l(3,(function(i){return t("div",{key:i,staticStyle:{width:"100%","margin-bottom":"10px"}},[t("div",{staticClass:"col"},[t("div",{staticClass:"row",staticStyle:{width:"100%","justify-content":"space-between"}},[t("div",[e._v("经济舱")]),t("div",[e._v("500￥")])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row",staticStyle:{width:"100%","justify-content":"space-between"}},[t("div",[e._v("机场建设费")]),t("div",[e._v("200￥")])])]),t("div",{staticClass:"col"},[t("div",{staticClass:"row",staticStyle:{width:"100%","justify-content":"space-between"}},[t("div",[e._v("燃油费")]),t("div",[e._v("200￥")])])])])})),t("el-divider"),t("h1",{staticStyle:{width:"100%","text-align":"right","font-size":"20px"}},[e._v(" 1220￥ ")])],2)])],1)]):e._e(),1==e.active?t("div",{staticStyle:{width:"100%",height:"700px"}},[t("el-card",{staticStyle:{width:"100%",height:"700px"},attrs:{header:"增值服务"}},[t("el-empty",{attrs:{description:"暂无可用增值服务"}})],1)],1):e._e(),2==e.active?t("div",{staticStyle:{width:"100%",height:"700px"}},[t("el-card",{staticStyle:{width:"100%",height:"700px"},attrs:{header:"支付"}},[t("div",{staticStyle:{display:"flex:justify-content:start","align-items":"center","flex-direction":"column"}},[t("div",{staticStyle:{"margin-bottom":"20px","font-size":"18px"}},[e._v("支付方式")]),t("div",{staticClass:"display: flex; justify-content: start; align-items: center;"},[t("div",{staticStyle:{"margin-top":"40px","font-size":"16px"}},[e._v("移动支付")]),t("el-divider"),t("el-radio-group",{model:{value:e.paySelectMobile,callback:function(t){e.paySelectMobile=t},expression:"paySelectMobile"}},[t("el-radio",{attrs:{label:"支付宝"}},[e._v("支付宝")]),t("el-radio",{attrs:{label:"微信"}},[e._v("微信")]),t("el-radio",{attrs:{label:"银联"}},[e._v("银联")])],1),t("div",{staticStyle:{"margin-top":"40px","font-size":"16px"}},[e._v("银行卡支付")]),t("el-divider"),t("el-radio-group",{model:{value:e.paySelectBank,callback:function(t){e.paySelectBank=t},expression:"paySelectBank"}},[t("el-radio",{attrs:{label:"中国银行"}},[e._v("中国银行")]),t("el-radio",{attrs:{label:"工商银行"}},[e._v("工商银行")]),t("el-radio",{attrs:{label:"建设银行"}},[e._v("建设银行")]),t("el-radio",{attrs:{label:"农业银行"}},[e._v("农业银行")]),t("el-radio",{attrs:{label:"交通银行"}},[e._v("交通银行")])],1)],1)]),t("div",{staticClass:"row",staticStyle:{"margin-top":"100px"}},[t("el-button",{staticStyle:{width:"300px"},on:{click:e.pay}},[e._v("立即支付")])],1),t("div",{ref:"alipay",domProps:{innerHTML:e._s(e.alipay)}})])],1):e._e(),t("div",{staticClass:"row",staticStyle:{"margin-top":"10px"}},[e.active>0?t("el-button",{staticStyle:{width:"300px","margin-right":"20px"},attrs:{type:"primary"},on:{click:e.last}},[e._v("上一步")]):e._e(),e.active<2?t("el-button",{staticStyle:{width:"300px"},attrs:{type:"primary"},on:{click:e.next}},[e._v("下一步")]):e._e()],1)],1)])],1)},s=[],l=(i(7658),i(9325)),r=i(3822),o=i(4161),n=i(8568),c={name:"YPlane",data(){return{limit:10,loading:!0,cardLoading:!1,isInfiniteLoading:!1,options:l.Z.options,isShow:!1,planeDir:l.Z.planeInfo,planes:planes,planesPart:"",search:{from:"",to:"",date:"",pro:{expandTrigger:"hover"}},timeOptions:["耗时升序","耗时降序"],priceOptions:["价格升序","价格降序"],arriveOptions:["到达时间升序","到达时间降序"],departOptions:["出发时间升序","出发时间降序"],listQuery:{time:"",price:"",arrive:"",depart:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"},{min:2,max:10,message:"长度在 2 到 10 个字符",trigger:"blur"}],id:[{required:!0,message:"请输入身份证号",trigger:"blur"},{min:18,max:18,message:"长度为 18 个字符",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"长度为 11 个字符",trigger:"blur"}]},contactRules:{phone:[{required:!0,message:"请输入手机号",trigger:"blur"},{min:11,max:11,message:"长度为 11 个字符",trigger:"blur"}]},dialog:!0,active:2,orderInfo:{passengers:[{name:"",id:"",phone:""}],contact:{phone:""}},alipay:"",paySelectMobile:"",paySelectBank:""}},methods:{...(0,r.OI)("login",{changeLoginDialog:"changeLoginDialog"}),loadLimit(){console.log("loadLimit"),this.limit+=5,this.planesPart=this.planes.slice(0,this.limit),this.isInfiniteLoading=!0,setTimeout((()=>{this.isInfiniteLoading=!1}),500)},searchFilter(){this.cardLoading=!0,this.isShow=!1,setTimeout((()=>{this.cardLoading=!1,this.isShow=!0}),800)},handlerFilter(){console.log(this.listQuery)},order(e){0==this.$store.state.login.loginState?(this.changeLoginDialog(),this.$message({message:"请先登录",type:"warning"})):(console.log(e),this.dialog=!0)},next(){if(console.log(this.$refs),console.log(this.active),this.active<3)if(0==this.active){if(0==this.orderInfo.passengers.length)return void this.$message({message:"请添加乘客",type:"warning"});let e=!0;if(this.$refs["passengerForm"].forEach((t=>{t.validate((t=>{t||(e=!1)}))})),!e)return void this.$message({message:"请填写正确的乘客信息",type:"warning"});this.$refs.contactForm.validate((e=>{e?this.active++:this.$message({message:"请填写联系人信息",type:"warning"})}))}else(1==this.active||2==this.active)&&this.active++},last(){this.active>0&&this.active--},initOrder(){this.orderInfo={passengers:[{name:"",id:"",phone:""}],contact:{phone:""}}},addPassenger(){let e={name:"",id:"",phone:""};this.orderInfo.passengers.push(e)},deletePassenger(e){this.orderInfo.passengers.splice(e,1)},pay(){if("支付宝"==this.paySelectMobile){const e={dueDate:"2015-05-03 17:14",flightOrTrainNO:"ER454545",money:2e3,passengerName:"于靖怿",seatType:"一等座",usrId:"20230409-fc90644e-eec2-4878-8d48-95a90cf42e52",vehicleType:"飞机"};(0,o.Z)({method:"post",url:`${n.Z.url}/usr/alipay`,data:e}).then((e=>{this.alipay=e.data.data,console.log(this.$refs.alipay),this.$nextTick((()=>{this.$refs.alipay.children[0].submit()}))})).catch((e=>{console.log(e)}))}else this.$message({message:"暂不支持改支付方式",type:"warning"})}},activated(){this.planesPart=this.planes.slice(0,this.limit),setTimeout((()=>{this.loading=!1}),500)},deactivated(){this.loading=!0,this.isShow=!1}},d=c,p=i(1001),h=(0,p.Z)(d,a,s,!1,null,"1d9ef6c1",null),m=h.exports}}]);
//# sourceMappingURL=179.01350205.js.map