{"version":3,"file":"js/37.2f76706a.js","mappings":"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","sources":["webpack://pleasuretour/./src/page/self/YSelfOrder.vue","webpack://pleasuretour/src/page/self/YSelfOrder.vue","webpack://pleasuretour/./src/page/self/YSelfOrder.vue?1aa0","webpack://pleasuretour/./src/page/self/YSelfOrder.vue?61e4"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"id\":\"selfOrder\",\"element-loading-background\":\"#f8f8f8\"}},[_c('el-row',[_c('h2',[_vm._v(\"订单信息\")]),_c('el-divider'),_c('div',{staticClass:\"row\",staticStyle:{\"width\":\"100%\",\"justify-content\":\"space-around\",\"margin-bottom\":\"20px\"}},[_c('el-card',{staticStyle:{\"margin\":\"0 10px\",\"flex\":\"1\",\"height\":\"80px\"}},[_c('div',{staticClass:\"row\",staticStyle:{\"width\":\"100%\",\"justify-content\":\"space-around\",\"margin-bottom\":\"20px\"}},[_c('i',{staticClass:\"el-icon-s-claim icon\"}),_c('div',{staticClass:\"col\"},[_c('div',[_vm._v(\"已完成订单数\")]),_c('div',{staticStyle:{\"color\":\"#409eff\",\"font-size\":\"20px\"}},[_vm._v(\" \"+_vm._s(_vm.havePay.length)+\" \")])])])]),_c('el-card',{staticStyle:{\"margin\":\"0 10px\",\"flex\":\"1\",\"height\":\"80px\"}},[_c('div',{staticClass:\"row\",staticStyle:{\"width\":\"100%\",\"justify-content\":\"space-around\",\"margin-bottom\":\"20px\"}},[_c('i',{staticClass:\"el-icon-s-order icon\"}),_c('div',{staticClass:\"col\"},[_c('div',[_vm._v(\"待支付订单数\")]),_c('div',{staticStyle:{\"color\":\"#409eff\",\"font-size\":\"20px\"}},[_vm._v(\" \"+_vm._s(_vm.waitPay.length)+\" \")])])])]),_c('el-card',{staticStyle:{\"margin\":\"0 10px\",\"flex\":\"1\",\"height\":\"80px\"}},[_c('div',{staticClass:\"row\",staticStyle:{\"width\":\"100%\",\"justify-content\":\"space-around\",\"margin-bottom\":\"20px\"}},[_c('i',{staticClass:\"el-icon-position icon\"}),_c('div',{staticClass:\"col\"},[_c('div',[_vm._v(\"旅程长度\")]),_c('div',{staticStyle:{\"color\":\"#409eff\",\"font-size\":\"20px\"}},[_vm._v(\"1000公里\")])])])])],1),_c('h3',{staticStyle:{\"color\":\"#e6a23c\"}},[_vm._v(\"等待支付\")]),_c('div',{staticStyle:{\"color\":\"#c0c4cc\",\"font-size\":\"12px\",\"margin-bottom\":\"10px\"}},[_vm._v(\" 目前处于排队等待支付的订单 \")]),_vm._l((_vm.waitPay),function(order,index){return _c('el-card',{key:index,staticStyle:{\"margin\":\"10px 0\",\"height\":\"120px\",\"position\":\"relative\"},attrs:{\"shadow\":\"hover\",\"body-style\":\"padding: 10px\"}},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"row\",staticStyle:{\"width\":\"100%\",\"height\":\"100px\",\"justify-content\":\"start\"}},[_c('div',{staticClass:\"el-icon-document-remove wait\"}),_c('strong',[_vm._v(\"订单编号：\"+_vm._s(order.orderId))]),_c('el-statistic',{staticStyle:{\"width\":\"90px\",\"position\":\"absolute\",\"right\":\"10px\",\"top\":\"10px\"},attrs:{\"value\":20 * 1000 * 60 +\n              Date.parse(order.orderTime.toString().slice(0, 19)),\"time-indices\":\"\",\"title\":\"剩余支付时间\",\"format\":\"HH:mm:ss\",\"value-style\":{ color: 'red' }}},[_c('template',{slot:\"prefix\"},[_c('i',{staticClass:\"el-icon-timer\",staticStyle:{\"color\":\"red\"}})])],2)],1)]),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"center\"}},[(\n            20 * 1000 * 60 +\n              Date.parse(order.orderTime.toString().slice(0, 19)) >\n            0\n          )?_c('el-button',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"10px\",\"right\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.pay(order)}}},[_vm._v(\"继续支付\")]):_vm._e()],1)])}),_c('h3',{staticStyle:{\"color\":\"#67c23a\"}},[_vm._v(\"已支付\")]),_c('div',{staticStyle:{\"color\":\"#c0c4cc\",\"font-size\":\"12px\",\"margin-bottom\":\"10px\"}},[_vm._v(\" 历史记录已支付的订单 \")]),_vm._l((_vm.havePay),function(order,index){return _c('el-card',{key:index,staticStyle:{\"margin\":\"10px 0\",\"height\":\"120px\",\"position\":\"relative\"},attrs:{\"shadow\":\"hover\",\"body-style\":\"padding: 10px\"}},[_c('div',{staticClass:\"col\"},[_c('div',{staticClass:\"row\",staticStyle:{\"width\":\"100%\",\"height\":\"100px\",\"justify-content\":\"start\"}},[_c('div',{staticClass:\"el-icon-document-checked have\"}),_c('strong',[_vm._v(\"订单编号：\"+_vm._s(order.orderId))])])]),_c('div',{staticStyle:{\"display\":\"flex\",\"justify-content\":\"flex-end\",\"align-items\":\"center\"}},[_c('el-button',{staticStyle:{\"position\":\"absolute\",\"bottom\":\"10px\",\"right\":\"10px\"},attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.getDetail(order)}}},[_vm._v(\"查看详情\")])],1)])})],2),_c('el-dialog',{attrs:{\"title\":\"订单详情\",\"visible\":_vm.dialog},on:{\"update:visible\":function($event){_vm.dialog=$event}}},[(_vm.details.vehicleType == '飞机')?_c('div',[_c('div',{staticClass:\"col\"},[_c('div',[_vm._v(\"航班：\"+_vm._s(_vm.details.info[0].flightId))]),_c('div',[_vm._v(\"订单编号：\"+_vm._s(_vm.details.info[0].orderId))]),_c('div',[_vm._v(\" 完成时间：\"+_vm._s(_vm.details.info[0].flightStartTime.toString().slice(0, 5))+\" - \"+_vm._s(_vm.details.info[0].flightEndTime.toString().slice(0, 5))+\" \")]),_c('div',[_vm._v(\" 航线：\"+_vm._s(_vm.details.info[0].flightStartPort)+\" -\"+_vm._s(_vm.details.info[0].flightEndPort)+\" \")]),_c('div',{staticClass:\"row\"},[_c('div',[_vm._v(\"乘客\")]),_vm._l((_vm.details.info),function(item,index){return _c('div',{key:index},[_vm._v(\" \"+_vm._s(item.passengerName)+\", \")])})],2),_c('div',[_vm._v(\"座位：\"+_vm._s(_vm.details.info[0].seatType))]),_c('div',[_vm._v(\" 票价：\"+_vm._s(_vm.details.info[0].flightPrice * _vm.details.info.length)+\" \")])])]):(_vm.details.vehicleType == '火车')?_c('div',[_c('div',{staticClass:\"col\"},[_c('div',[_vm._v(\"车次：\"+_vm._s(_vm.details.info[0].trainNumberId))]),_c('div',[_vm._v(\"订单编号：\"+_vm._s(_vm.details.info[0].orderId))]),_c('div',[_vm._v(\" 完成时间：\"+_vm._s(_vm.details.info[0].trainTicketStartTime.toString().slice(0, 5))+\" - \"+_vm._s(_vm.details.info[0].trainTicketEndTime.toString().slice(0, 5))+\" \")]),_c('div',[_vm._v(\" 线路：\"+_vm._s(_vm.details.info[0].trainStartStation)+\" -\"+_vm._s(_vm.details.info[0].trainEndStation)+\" \")]),_c('div',{staticClass:\"row\"},[_c('div',[_vm._v(\"乘客\")]),_vm._l((_vm.details.info),function(item,index){return _c('div',{key:index},[_vm._v(\" \"+_vm._s(item.passengerName)+\", \")])})],2),_c('div',[_vm._v(\"座位：\"+_vm._s(_vm.details.info[0].seatType))]),_c('div',[_vm._v(\" 票价：\"+_vm._s(_vm.details.info[0].trainPrice * _vm.details.info.length)+\" \")])])]):_vm._e()]),_c('div',{ref:\"alipay\",domProps:{\"innerHTML\":_vm._s(_vm.alipay)}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"selfOrder\" v-loading=\"loading\" element-loading-background=\"#f8f8f8\">\r\n    <el-row>\r\n      <h2>订单信息</h2>\r\n      <el-divider></el-divider>\r\n      <div\r\n        class=\"row\"\r\n        style=\"width: 100%; justify-content: space-around; margin-bottom: 20px\"\r\n      >\r\n        <el-card style=\"margin: 0 10px; flex: 1; height: 80px\">\r\n          <div\r\n            class=\"row\"\r\n            style=\"\r\n              width: 100%;\r\n              justify-content: space-around;\r\n              margin-bottom: 20px;\r\n            \"\r\n          >\r\n            <i class=\"el-icon-s-claim icon\"></i>\r\n            <div class=\"col\">\r\n              <div>已完成订单数</div>\r\n              <div style=\"color: #409eff; font-size: 20px\">\r\n                {{ havePay.length }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n        <el-card style=\"margin: 0 10px; flex: 1; height: 80px\">\r\n          <div\r\n            class=\"row\"\r\n            style=\"\r\n              width: 100%;\r\n              justify-content: space-around;\r\n              margin-bottom: 20px;\r\n            \"\r\n          >\r\n            <i class=\"el-icon-s-order icon\"></i>\r\n            <div class=\"col\">\r\n              <div>待支付订单数</div>\r\n              <div style=\"color: #409eff; font-size: 20px\">\r\n                {{ waitPay.length }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n        <el-card style=\"margin: 0 10px; flex: 1; height: 80px\">\r\n          <div\r\n            class=\"row\"\r\n            style=\"\r\n              width: 100%;\r\n              justify-content: space-around;\r\n              margin-bottom: 20px;\r\n            \"\r\n          >\r\n            <i class=\"el-icon-position icon\"></i>\r\n            <div class=\"col\">\r\n              <div>旅程长度</div>\r\n              <div style=\"color: #409eff; font-size: 20px\">1000公里</div>\r\n            </div>\r\n          </div>\r\n        </el-card>\r\n      </div>\r\n      <h3 style=\"color: #e6a23c\">等待支付</h3>\r\n      <div style=\"color: #c0c4cc; font-size: 12px; margin-bottom: 10px\">\r\n        目前处于排队等待支付的订单\r\n      </div>\r\n      <el-card\r\n        style=\"margin: 10px 0; height: 120px; position: relative\"\r\n        shadow=\"hover\"\r\n        v-for=\"(order, index) in waitPay\"\r\n        :key=\"index\"\r\n        body-style=\"padding: 10px\"\r\n      >\r\n        <div class=\"col\">\r\n          <div\r\n            class=\"row\"\r\n            style=\"width: 100%; height: 100px; justify-content: start\"\r\n          >\r\n            <div class=\"el-icon-document-remove wait\"></div>\r\n            <strong>订单编号：{{ order.orderId }}</strong>\r\n            <el-statistic\r\n              :value=\"\r\n                20 * 1000 * 60 +\r\n                Date.parse(order.orderTime.toString().slice(0, 19))\r\n              \"\r\n              time-indices\r\n              title=\"剩余支付时间\"\r\n              format=\"HH:mm:ss\"\r\n              style=\"width: 90px; position: absolute; right: 10px; top: 10px\"\r\n              :value-style=\"{ color: 'red' }\"\r\n            >\r\n              <template slot=\"prefix\">\r\n                <i class=\"el-icon-timer\" style=\"color: red\"></i>\r\n              </template>\r\n            </el-statistic>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style=\"display: flex; justify-content: flex-end; align-items: center\"\r\n        >\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"mini\"\r\n            style=\"position: absolute; bottom: 10px; right: 10px\"\r\n            v-if=\"\r\n              20 * 1000 * 60 +\r\n                Date.parse(order.orderTime.toString().slice(0, 19)) >\r\n              0\r\n            \"\r\n            @click=\"pay(order)\"\r\n            >继续支付</el-button\r\n          >\r\n        </div>\r\n      </el-card>\r\n      <h3 style=\"color: #67c23a\">已支付</h3>\r\n      <div style=\"color: #c0c4cc; font-size: 12px; margin-bottom: 10px\">\r\n        历史记录已支付的订单\r\n      </div>\r\n      <el-card\r\n        style=\"margin: 10px 0; height: 120px; position: relative\"\r\n        shadow=\"hover\"\r\n        v-for=\"(order, index) in havePay\"\r\n        :key=\"index\"\r\n        body-style=\"padding: 10px\"\r\n      >\r\n        <div class=\"col\">\r\n          <div\r\n            class=\"row\"\r\n            style=\"width: 100%; height: 100px; justify-content: start\"\r\n          >\r\n            <div class=\"el-icon-document-checked have\"></div>\r\n            <strong>订单编号：{{ order.orderId }}</strong>\r\n          </div>\r\n        </div>\r\n        <div\r\n          style=\"display: flex; justify-content: flex-end; align-items: center\"\r\n        >\r\n          <el-button\r\n            type=\"primary\"\r\n            size=\"mini\"\r\n            style=\"position: absolute; bottom: 10px; right: 10px\"\r\n            @click=\"getDetail(order)\"\r\n            >查看详情</el-button\r\n          >\r\n        </div>\r\n      </el-card>\r\n    </el-row>\r\n\r\n    <el-dialog title=\"订单详情\" :visible.sync=\"dialog\">\r\n      <div v-if=\"details.vehicleType == '飞机'\">\r\n        <div class=\"col\">\r\n          <div>航班：{{ details.info[0].flightId }}</div>\r\n          <div>订单编号：{{ details.info[0].orderId }}</div>\r\n          <div>\r\n            完成时间：{{\r\n              details.info[0].flightStartTime.toString().slice(0, 5)\r\n            }}\r\n            -\r\n            {{ details.info[0].flightEndTime.toString().slice(0, 5) }}\r\n          </div>\r\n          <div>\r\n            航线：{{ details.info[0].flightStartPort }} -{{\r\n              details.info[0].flightEndPort\r\n            }}\r\n          </div>\r\n          <div class=\"row\">\r\n            <div>乘客</div>\r\n            <div v-for=\"(item, index) in details.info\" :key=\"index\">\r\n              {{ item.passengerName }},\r\n            </div>\r\n          </div>\r\n          <div>座位：{{ details.info[0].seatType }}</div>\r\n          <div>\r\n            票价：{{ details.info[0].flightPrice * details.info.length }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-else-if=\"details.vehicleType == '火车'\">\r\n        <div class=\"col\">\r\n          <div>车次：{{ details.info[0].trainNumberId }}</div>\r\n          <div>订单编号：{{ details.info[0].orderId }}</div>\r\n          <div>\r\n            完成时间：{{\r\n              details.info[0].trainTicketStartTime.toString().slice(0, 5)\r\n            }}\r\n            -\r\n            {{ details.info[0].trainTicketEndTime.toString().slice(0, 5) }}\r\n          </div>\r\n          <div>\r\n            线路：{{ details.info[0].trainStartStation }} -{{\r\n              details.info[0].trainEndStation\r\n            }}\r\n          </div>\r\n          <div class=\"row\">\r\n            <div>乘客</div>\r\n            <div v-for=\"(item, index) in details.info\" :key=\"index\">\r\n              {{ item.passengerName }},\r\n            </div>\r\n          </div>\r\n          <div>座位：{{ details.info[0].seatType }}</div>\r\n          <div>\r\n            票价：{{ details.info[0].trainPrice * details.info.length }}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </el-dialog>\r\n    <div v-html=\"alipay\" ref=\"alipay\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport webconfig from \"@/data/config\";\r\nimport { mapActions } from \"vuex\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      loading: true,\r\n      dialog: false,\r\n      orderList: [],\r\n      havePay: \"\",\r\n      waitPay: \"\",\r\n      details: \"\",\r\n      alipay: \"\",\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapActions(\"login\", { getInfo: \"getInfo\" }),\r\n    getOrders() {\r\n      axios({\r\n        method: \"get\",\r\n        url: `${webconfig.url}/whole-order/getOrder`,\r\n        headers: { token: localStorage.getItem(\"token\") },\r\n        params: { usrId: this.$store.state.user.userForm.usrId },\r\n      })\r\n        .then((res) => {\r\n          console.log(res.data.data);\r\n          this.orderList = res.data.data;\r\n          this.havePay = this.orderList.filter((item) => {\r\n            return item.orderStatus == \"已支付\";\r\n          });\r\n          this.waitPay = this.orderList.filter((item) => {\r\n            return item.orderStatus == \"未支付\";\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    details() {\r\n      this.dialog = true;\r\n    },\r\n    getDetail(order) {\r\n      let url =\r\n        webconfig.url +\r\n        (order.vehicleType == \"飞机\"\r\n          ? \"/aircraft/query-aircraft-ticket\"\r\n          : \"/train/query-train-ticket\");\r\n      axios({\r\n        method: \"get\",\r\n        url: url,\r\n        headers: { token: localStorage.getItem(\"token\") },\r\n        params: { orderId: order.orderId },\r\n      })\r\n        .then((res) => {\r\n          console.log(res.data.data);\r\n          this.details = res.data.data;\r\n          this.details = {\r\n            info: this.details,\r\n            vehicleType: order.vehicleType,\r\n          };\r\n\r\n          console.log(this.details);\r\n          this.dialog = true;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n    pay(order) {\r\n      axios({\r\n        method: \"get\",\r\n        url: `${webconfig.url}/whole-order/alipayContinue`,\r\n        headers: { token: localStorage.getItem(\"token\") },\r\n        params: { orderId: order.orderId },\r\n      })\r\n        .then((res) => {\r\n          this.alipay = res.data.data;\r\n          this.$nextTick(() => {\r\n            this.$refs.alipay.children[0].submit();\r\n          });\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n  activated() {\r\n    this.getInfo(this);\r\n    this.getOrders();\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n    }, 1000);\r\n  },\r\n  deactivated() {\r\n    console.log(\"deactivated\");\r\n    this.loading = true;\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.icon {\r\n  font-size: 45px;\r\n  color: #409eff;\r\n  background-color: white;\r\n  transition: all 0.3s;\r\n}\r\n#selfOrder {\r\n  padding: 30px 25px;\r\n}\r\n.row {\r\n  display: flex;\r\n  justify-content: start;\r\n  align-items: center;\r\n}\r\n.col {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: start;\r\n  align-items: start;\r\n}\r\n.wait {\r\n  font-size: 50px;\r\n  margin-right: 20px;\r\n  color: #e6a23c;\r\n  background-color: white;\r\n  transition: all 0.3s;\r\n}\r\n.wait:hover {\r\n  font-size: 50px;\r\n  color: white;\r\n  background-color: #e6a23c;\r\n  transition: all 0.3s;\r\n}\r\n.have {\r\n  font-size: 50px;\r\n  margin-right: 20px;\r\n  color: #3ff375;\r\n  background-color: white;\r\n  transition: all 0.3s;\r\n}\r\n.have:hover {\r\n  font-size: 50px;\r\n  color: white;\r\n  background-color: #3ff375;\r\n  transition: all 0.3s;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./YSelfOrder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./YSelfOrder.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./YSelfOrder.vue?vue&type=template&id=d4acae26&scoped=true&\"\nimport script from \"./YSelfOrder.vue?vue&type=script&lang=js&\"\nexport * from \"./YSelfOrder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./YSelfOrder.vue?vue&type=style&index=0&id=d4acae26&prod&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d4acae26\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","directives","name","rawName","value","loading","expression","attrs","_v","staticClass","staticStyle","_s","havePay","length","waitPay","_l","order","index","key","orderId","Date","parse","orderTime","toString","slice","color","slot","on","$event","pay","_e","getDetail","dialog","details","vehicleType","info","flightId","flightStartTime","flightEndTime","flightStartPort","flightEndPort","item","passengerName","seatType","flightPrice","trainNumberId","trainTicketStartTime","trainTicketEndTime","trainStartStation","trainEndStation","trainPrice","ref","domProps","alipay","staticRenderFns","data","orderList","methods","mapActions","getInfo","getOrders","axios","method","url","webconfig","headers","token","localStorage","getItem","params","usrId","$store","state","user","userForm","then","res","console","log","filter","orderStatus","catch","err","$nextTick","$refs","children","submit","activated","setTimeout","deactivated","component"],"sourceRoot":""}